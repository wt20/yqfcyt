{"version":3,"sources":["uni-app:///main.js","webpack:///D:/work/part-time-job/chenjun/ReserveMeatSchedulingSystemApplet/qyfcyt/pages_sub/exigency/logistics.vue?0dd5","webpack:///D:/work/part-time-job/chenjun/ReserveMeatSchedulingSystemApplet/qyfcyt/pages_sub/exigency/logistics.vue?0e9d","webpack:///D:/work/part-time-job/chenjun/ReserveMeatSchedulingSystemApplet/qyfcyt/pages_sub/exigency/logistics.vue?feba","webpack:///D:/work/part-time-job/chenjun/ReserveMeatSchedulingSystemApplet/qyfcyt/pages_sub/exigency/logistics.vue?ef34","uni-app:///pages_sub/exigency/logistics.vue","webpack:///D:/work/part-time-job/chenjun/ReserveMeatSchedulingSystemApplet/qyfcyt/pages_sub/exigency/logistics.vue?721f","webpack:///D:/work/part-time-job/chenjun/ReserveMeatSchedulingSystemApplet/qyfcyt/pages_sub/exigency/logistics.vue?9c2f"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","color","fontSize","textAlign","anchorY","bgColor","padding","borderRadius","borderColor","borderWidth","data","loading","id","details","lng","lat","scale","start","midway","end","markers","polyline","colors","stepData","logisticState","routeParams","onLoad","params","methods","getData","uni","goodsUseStorageId","startEnd","goodsUseStorage","name","iconPath","point","latitude","longitude","reachTime","console","initMarkers","width","height","label","content","commonLabel","points","arrowLine","colorList","initStepData","time","isNow","type","desc","getCenterPoint","res","diff","getRoom"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,kBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsH;AACtH;AAC6D;AACL;AACc;;;AAGtE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,+EAAM;AACR,EAAE,oFAAM;AACR,EAAE,6FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,wFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,oSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAmmB,CAAgB,6nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;ACiBvnB;AAEA;AAAA;AAEA;AACA;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;EACAC;AACA;;AAEA;AACA;AAAA,eAEA;EACAC;IACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC,8BAEA;IAAA,IADAC;IAEA;IACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OAGAC;kBACAH,wCACA;oBACAI;kBAAA;gBAEA;cAAA;gBAAA;gBANArB;gBAAA,IAOAA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBACA;gBACAsB,uIACAC;gBACA;gBACA;gBACA;kBACAC;kBACAC;kBACAC;oBACAC;oBACAC;kBACA;kBACAC;gBACA;gBACA;gBACA;kBACAL;kBACAC;kBACAC;oBACAC;oBACAC;kBACA;kBACAC;gBACA;gBACA;gBACA7B;kBACA8B;kBACA;oBACAN;oBACAC;oBACAC;sBACAC;sBACAC;oBACA;oBACAC;kBACA;gBACA;gBACA;gBACA;gBACA;gBACA,yGACA;gBACA;gBACA;gBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAE;MAAA;MACA;QACA7B;QACAyB;QACAC;QACAH;QACA;QACAO;QACAC;QACA;QACA;QACA;QACA;QACA;QACAC;UACAC;UACA5C;QAAA,GACA6C;MAEA;QACAlC;QACAyB;QACAC;QACAH;QACAO;QACAC;QACAC;UACAC;UACA5C;QAAA,GACA6C;MAEA;MAEA;QACA;UACAlC;UACAyB;UACAC;UACAH;UACAO;UACAC;UACAC;YACAC;YACA5C;UAAA,GACA6C;QAEA;MACA;MACA;MAEA;QAAA;MAAA;MACA;QACAC,0FACA5B,WACA;QACAuB;QACAM;QACAC;MACA;MAEA;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACAhB;QACAiB;QACAC;QACAC;QACAC;MACA;MACA;QACA;UACApB;UACAiB;UACAC;UACAC;UACAC;QACA;MACA;MACA;QACApB;QACAiB;QACAC;QACAC;QACAC;MACA;MACA;MAEA;IACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;MACA;QACAC;QACA;QACA;QACA;QACA;MACA;MACA;MACA;MACA;MACAC;MACA;MACA;MACA;MACAjB;MACA;IACA;IACA;IACAkB;MACA;MACA;MACA;QACA;UACA;QACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC3QA;AAAA;AAAA;AAAA;AAA8oC,CAAgB,onCAAG,EAAC,C;;;;;;;;;;;ACAlqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_sub/exigency/logistics.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages_sub/exigency/logistics.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./logistics.vue?vue&type=template&id=66fff668&\"\nvar renderjs\nimport script from \"./logistics.vue?vue&type=script&lang=js&\"\nexport * from \"./logistics.vue?vue&type=script&lang=js&\"\nimport style0 from \"./logistics.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages_sub/exigency/logistics.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./logistics.vue?vue&type=template&id=66fff668&\"","var components\ntry {\n  components = {\n    ccDefineStep: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/cc-defineStep/components/cc-defineStep/cc-defineStep\" */ \"@/uni_modules/cc-defineStep/components/cc-defineStep/cc-defineStep.vue\"\n      )\n    },\n    uEmpty: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-empty/u-empty\" */ \"@/uni_modules/uview-ui/components/u-empty/u-empty.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.stepData.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./logistics.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./logistics.vue?vue&type=script&lang=js&\"","<!-- 物流信息页面 -->\r\n<template>\r\n\t<view>\r\n\t\t<!-- 地图 -->\r\n\t\t<map id=\"myMap\" :longitude=\"lng\" :latitude=\"lat\" :scale=\"scale\" style=\"width: 100%; height: 65vh;\"\r\n\t\t\t:markers=\"markers\" :polyline=\"polyline\">\r\n\t\t</map>\r\n\t\t<!-- 时间轴 -->\r\n\t\t<view class=\"logis-box\">\r\n\t\t\t<cc-defineStep v-if=\"stepData.length\" :colors=\"colors\" :stepData=\"stepData\"></cc-defineStep>\r\n\t\t\t<u-empty v-else mode=\"data\" icon=\"http://cdn.uviewui.com/uview/empty/data.png\">\r\n\t\t\t</u-empty>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tcreateUUID\r\n\t} from '@/utils/common.js'\r\n\r\n\t// 打点label样式\r\n\tconst commonLabel = {\r\n\t\tcolor: '#000000',\r\n\t\tfontSize: 12,\r\n\t\ttextAlign: 'center',\r\n\t\tanchorY: -70,\r\n\t\tbgColor: '#ffffff',\r\n\t\tpadding: 4,\r\n\t\tborderRadius: 4,\r\n\t\tborderColor: '#226ca5',\r\n\t\tborderWidth: 1\r\n\t}\r\n\r\n\t// 打点图标大小\r\n\tconst markersIconSize = 42\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tloading: true,\r\n\t\t\t\t// 紧急动用id\r\n\t\t\t\tid: '',\r\n\t\t\t\t// 详情数据\r\n\t\t\t\tdetails: null,\r\n\t\t\t\t// 初始化经度\r\n\t\t\t\tlng: 104.418440,\r\n\t\t\t\t// 初始化纬度\r\n\t\t\t\tlat: 31.133116,\r\n\t\t\t\t// 放大倍数\r\n\t\t\t\tscale: 8.6,\r\n\t\t\t\t// 起点\r\n\t\t\t\tstart: null,\r\n\t\t\t\t// 途经点\r\n\t\t\t\tmidway: [],\r\n\t\t\t\t// 终点\r\n\t\t\t\tend: null,\r\n\t\t\t\t// 打点数据\r\n\t\t\t\tmarkers: [],\r\n\t\t\t\t// 描边数据\r\n\t\t\t\tpolyline: [],\r\n\t\t\t\t// 时间轴颜色\r\n\t\t\t\tcolors: \"rgb(78, 130, 255)\",\r\n\t\t\t\t// 时间轴数据\r\n\t\t\t\tstepData: [],\r\n\t\t\t\t// 0待发货 1已发货 2运输中 3已到达\r\n\t\t\t\tlogisticState: '0',\r\n\t\t\t\t// 路由参数\r\n\t\t\t\trouteParams: null\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad({\r\n\t\t\tparams\r\n\t\t}) {\r\n\t\t\tthis.routeParams = JSON.parse(params)\r\n\t\t\tthis.id = this.routeParams.id\r\n\t\t\t// 初始化数据\r\n\t\t\tthis.getData()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync getData() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tdata\r\n\t\t\t\t} = await uni.$u.http.post('goodsUse/getLogisticsByGoodsUseStorageId', null, {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\t...this.query,\r\n\t\t\t\t\t\tgoodsUseStorageId: this.id\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tif (!data) return\r\n\t\t\t\t// 数据为空则拿路由传参数据作为起点和终点\r\n\t\t\t\tconst startEnd = data?.length === 0 ? this.routeParams.goodsUseStorage : data[data.length - 1]\r\n\t\t\t\t\t.goodsUseStorage\r\n\t\t\t\tthis.logisticState = startEnd.logisticsState\r\n\t\t\t\t// 起点赋值\r\n\t\t\t\tthis.start = {\r\n\t\t\t\t\tname: startEnd.deliveryAddress,\r\n\t\t\t\t\ticonPath: '../../static/start.png',\r\n\t\t\t\t\tpoint: {\r\n\t\t\t\t\t\tlatitude: startEnd.deliveryAddressLatitude,\r\n\t\t\t\t\t\tlongitude: startEnd.deliveryAddressLongitude,\r\n\t\t\t\t\t},\r\n\t\t\t\t\treachTime: startEnd.departureTime\r\n\t\t\t\t}\r\n\t\t\t\t// 终点赋值\r\n\t\t\t\tthis.end = {\r\n\t\t\t\t\tname: startEnd.receiveAddress,\r\n\t\t\t\t\ticonPath: '../../static/end.png',\r\n\t\t\t\t\tpoint: {\r\n\t\t\t\t\t\tlatitude: startEnd.receiveAddressLatitude,\r\n\t\t\t\t\t\tlongitude: startEnd.receiveAddressLongitude,\r\n\t\t\t\t\t},\r\n\t\t\t\t\treachTime: startEnd.expectArriveTime\r\n\t\t\t\t}\r\n\t\t\t\t// 途经点赋值\r\n\t\t\t\tdata.forEach((i, index) => {\r\n\t\t\t\t\tconsole.log(index, data.length - 1);\r\n\t\t\t\t\tthis.midway.push({\r\n\t\t\t\t\t\tname: i.address,\r\n\t\t\t\t\t\ticonPath: `../../static/midway.png`,\r\n\t\t\t\t\t\tpoint: {\r\n\t\t\t\t\t\t\tlatitude: i.latitude,\r\n\t\t\t\t\t\t\tlongitude: i.longitude,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\treachTime: i.reachTime\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t// 反转途经点\r\n\t\t\t\tthis.midway.reverse()\r\n\t\t\t\t// 途经点打点图标赋值\r\n\t\t\t\tif (this.logisticState === '0' && this.midway.length) this.midway[this.midway.length - 1].iconPath =\r\n\t\t\t\t\t'../../static/truck.png'\r\n\t\t\t\t// 初始化打点数据赋值\r\n\t\t\t\tthis.initMarkers()\r\n\t\t\t\t// 初始化时间轴数据赋值\r\n\t\t\t\tthis.initStepData()\r\n\t\t\t},\r\n\t\t\tinitMarkers() {\r\n\t\t\t\tthis.markers = [{\r\n\t\t\t\t\tid: 1,\r\n\t\t\t\t\tlatitude: this.start.point.latitude,\r\n\t\t\t\t\tlongitude: this.start.point.longitude,\r\n\t\t\t\t\ticonPath: this.start.iconPath,\r\n\t\t\t\t\t// iconPath: '起',\r\n\t\t\t\t\twidth: markersIconSize,\r\n\t\t\t\t\theight: markersIconSize,\r\n\t\t\t\t\t// callout: {\r\n\t\t\t\t\t// \tcontent: 'ffff',\r\n\t\t\t\t\t// \tcolor: '#000000',\r\n\t\t\t\t\t// \tfontSize: 40\r\n\t\t\t\t\t// },\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tcontent: this.start.name,\r\n\t\t\t\t\t\tcolor: '#3cbf00',\r\n\t\t\t\t\t\t...commonLabel\r\n\t\t\t\t\t}\r\n\t\t\t\t}, {\r\n\t\t\t\t\tid: 5,\r\n\t\t\t\t\tlatitude: this.end.point.latitude,\r\n\t\t\t\t\tlongitude: this.end.point.longitude,\r\n\t\t\t\t\ticonPath: this.end.iconPath,\r\n\t\t\t\t\twidth: markersIconSize,\r\n\t\t\t\t\theight: markersIconSize,\r\n\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\tcontent: this.end.name,\r\n\t\t\t\t\t\tcolor: '#dd0000',\r\n\t\t\t\t\t\t...commonLabel\r\n\t\t\t\t\t}\r\n\t\t\t\t}]\r\n\r\n\t\t\t\tconst midwayMarkers = this.midway.map((i, index) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tid: index + 2,\r\n\t\t\t\t\t\tlatitude: i.point.latitude,\r\n\t\t\t\t\t\tlongitude: i.point.longitude,\r\n\t\t\t\t\t\ticonPath: i.iconPath,\r\n\t\t\t\t\t\twidth: markersIconSize,\r\n\t\t\t\t\t\theight: markersIconSize,\r\n\t\t\t\t\t\tlabel: {\r\n\t\t\t\t\t\t\tcontent: i.name,\r\n\t\t\t\t\t\t\tcolor: '#5cabdf',\r\n\t\t\t\t\t\t\t...commonLabel\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.markers.splice(1, 0, ...midwayMarkers)\r\n\r\n\t\t\t\tconst midwayPolyline = this.midway.map(i => i.point)\r\n\t\t\t\tthis.polyline = [{\r\n\t\t\t\t\tpoints: [this.start.point, ...midwayPolyline, this\r\n\t\t\t\t\t\t.end.point\r\n\t\t\t\t\t],\r\n\t\t\t\t\twidth: 5,\r\n\t\t\t\t\tarrowLine: true,\r\n\t\t\t\t\tcolorList: ['#66b8b8', '#28a2a2', '#64a0c8', '#4397cf', '#377caa']\r\n\t\t\t\t}]\r\n\r\n\t\t\t\tconst centerPoint = this.getCenterPoint(this.polyline[0].points)\r\n\t\t\t\tthis.lng = centerPoint[0]\r\n\t\t\t\tthis.lat = centerPoint[1]\r\n\t\t\t\tthis.scale = centerPoint[2] - 0.4\r\n\t\t\t\tthis.loading = false\r\n\t\t\t},\r\n\t\t\tinitStepData() {\r\n\t\t\t\tthis.stepData.push({\r\n\t\t\t\t\tname: '起点',\r\n\t\t\t\t\ttime: this.start.reachTime,\r\n\t\t\t\t\tisNow: 1,\r\n\t\t\t\t\ttype: 1,\r\n\t\t\t\t\tdesc: this.start.name\r\n\t\t\t\t})\r\n\t\t\t\tthis.midway.forEach(i => {\r\n\t\t\t\t\tthis.stepData.push({\r\n\t\t\t\t\t\tname: '途径点',\r\n\t\t\t\t\t\ttime: i.reachTime,\r\n\t\t\t\t\t\tisNow: 1,\r\n\t\t\t\t\t\ttype: 1,\r\n\t\t\t\t\t\tdesc: i.name\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tthis.stepData.push({\r\n\t\t\t\t\tname: '终点',\r\n\t\t\t\t\ttime: `${this.logisticState !== '3' ? '预计': ''}到达时间：${this.end.reachTime}`,\r\n\t\t\t\t\tisNow: this.logisticState === '3',\r\n\t\t\t\t\ttype: 1,\r\n\t\t\t\t\tdesc: this.end.name\r\n\t\t\t\t})\r\n\t\t\t\tthis.stepData.reverse()\r\n\r\n\t\t\t\tif (this.logisticState === '2') this.stepData[1].name = '当前位置'\r\n\t\t\t},\r\n\t\t\t//通过经纬度获取中心位置和缩放级别\r\n\t\t\tgetCenterPoint(points) {\r\n\t\t\t\tvar maxJ = points[0].longitude;\r\n\t\t\t\tvar minJ = points[0].longitude;\r\n\t\t\t\tvar maxW = points[0].latitude;\r\n\t\t\t\tvar minW = points[0].latitude;\r\n\t\t\t\tvar res;\r\n\t\t\t\tfor (var i = points.length - 1; i >= 0; i--) {\r\n\t\t\t\t\tres = points[i];\r\n\t\t\t\t\tif (res.longitude > maxJ) maxJ = res.longitude;\r\n\t\t\t\t\tif (res.longitude < minJ) minJ = res.longitude;\r\n\t\t\t\t\tif (res.latitude > maxW) maxW = res.latitude;\r\n\t\t\t\t\tif (res.latitude < minW) minW = res.latitude;\r\n\t\t\t\t}\r\n\t\t\t\tif (maxJ == minJ && maxW == minW) return [maxJ, maxW, 9];\r\n\t\t\t\tvar diff = maxJ - minJ;\r\n\t\t\t\tif (diff < maxW - minW) diff = maxW - minW;\r\n\t\t\t\tdiff = parseInt(10000 * diff) / 10000;\r\n\t\t\t\tvar centerJ = minJ * 1000000 + (1000000 * (maxJ - minJ)) / 2;\r\n\t\t\t\tvar centerW = minW * 1000000 + (1000000 * (maxW - minW)) / 2;\r\n\t\t\t\tvar zoom = this.getRoom(diff);\r\n\t\t\t\tconsole.log(centerJ / 1000000, centerW / 1000000, zoom);\r\n\t\t\t\treturn [centerJ / 1000000, centerW / 1000000, zoom];\r\n\t\t\t},\r\n\t\t\t// 获取缩放级别\r\n\t\t\tgetRoom(diff) {\r\n\t\t\t\tvar room = new Array(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14);\r\n\t\t\t\tvar diffArr = new Array(360, 180, 90, 45, 22, 11, 5, 2.5, 1.25, 0.6, 0.3, 0.15, 0.07, 0.03, 0);\r\n\t\t\t\tfor (var i = 0; i < diffArr.length; i++) {\r\n\t\t\t\t\tif (diff - diffArr[i] >= 0) {\r\n\t\t\t\t\t\treturn room[i];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn 14;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.logis-box {\r\n\t\tmax-height: 65vh;\r\n\t\tmin-height: 35vh;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\r\n\t.step_right {\r\n\t\twidth: 100%;\r\n\r\n\t\t.result {\r\n\t\t\tborder-width: 0px !important;\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./logistics.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./logistics.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1740887605957\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}