{"version":3,"sources":["uni-app:///main.js","webpack:///D:/work/part-time-job/chenjun/yqfcyt_new/qyfcyt/pages_sub/outStorage/details/details.vue?8b1c","webpack:///D:/work/part-time-job/chenjun/yqfcyt_new/qyfcyt/pages_sub/outStorage/details/details.vue?f446","webpack:///D:/work/part-time-job/chenjun/yqfcyt_new/qyfcyt/pages_sub/outStorage/details/details.vue?5106","webpack:///D:/work/part-time-job/chenjun/yqfcyt_new/qyfcyt/pages_sub/outStorage/details/details.vue?4f96","uni-app:///pages_sub/outStorage/details/details.vue","webpack:///D:/work/part-time-job/chenjun/yqfcyt_new/qyfcyt/pages_sub/outStorage/details/details.vue?5264","webpack:///D:/work/part-time-job/chenjun/yqfcyt_new/qyfcyt/pages_sub/outStorage/details/details.vue?c400"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","GoodsDetailsPopup","FileUplaod","SelectUser","data","showOperateStartTime","showOperateEndTime","operateStartTime","operateEndTime","pickTime","showPickTime","id","formModel","shipmentOrderNo","warehouseId","shipmentOrderDate","pickMethod","customerId","customerName","pickerId","customerPickNo","startStation","picker","pickerIdCard","pickerMobile","vehicleNo","details","itemName","place","productionPlace","itemModel","specification","batchNo","realQuantity","realWeight","areaId","rackId","orderOperate","operatePerson","operatePersonNames","operateDriver","loadType","forklift_type","operateDriverNames","outStorageCompletedFileList","pickerFileList","fileName","fileUrl","operateStandard","obeyManagement","checkerWarehouseManager","checkerDirector","stockSupervisorAcceptFileUrl","checkerCustomerManager","exceptionFileUrl","remark","rules","type","required","message","trigger","auditStatus","getRoleKeys","getIsAdmin","getIsKG","getIsCCZG","getIsKFZG","detailsData","methods","getDictLabel","goodsChange","confirmOperateEndTime","setTimeout","confirmOperateStartTime","confirmPickTime","getEditData","uni","res","i","getRecommendPlace","custom","loading","clickAddGoods","checkConfirm","handleSaveForm","handleSubmit","console","title","mask","fileChange","showSelectOperatePerson","showSelectOperateDriver","selectOperatePersonChange","ids","userNames","selectOperateDriverChange","computed","addEditTitle","getCheckerFields","onReady","onLoad","params","onShow"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,gBAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoH;AACpH;AAC2D;AACL;AACc;;;AAGpE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,6EAAM;AACR,EAAE,kFAAM;AACR,EAAE,2FAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,sFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,2UAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,aAAa,+TAEN;AACP,KAAK;AACL;AACA,aAAa,mTAEN;AACP,KAAK;AACL;AACA,aAAa,6SAEN;AACP,KAAK;AACL;AACA,aAAa,mWAEN;AACP,KAAK;AACL;AACA,aAAa,2UAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrHA;AAAA;AAAA;AAAA;AAAimB,CAAgB,2nBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;ACyKrnB;AACA;AAKA;AAGA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAKA;EACAC;IACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAEAC;QACAD;QAEA;QACAE;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QACA;QACAC;QAEAC;UACA;UACAC;UACA;UACAC;UACAC;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACApB;UACAqB;UACA;UACAC;QACA;QAGA;QACAC;UACA;UACA9B;UACA;UACAC;UACA;UACA8B;UACAC;UACA;UACAC;UAEA;UACAC;UACA;UACAC;UAEAC;UACA;UACAC;UACA;UACAC;YACAC;YACAC;UACA;UACA;UACAtC;UACA;UACAuC;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACA;UACAC;UACA;UACAC;QACA;QACA;QACAA;MAEA;MACAC;QACA;UACAC;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QAEA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;UACAH;UACAC;UACAC;UACAC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;;MAEAC;MAEAC;MACAC;MACAC;MACAC;MACAC;MAEAC;IACA;EACA;EAEAC;IACAC;IACAC;MACA;IACA;IACAC;MAAA;MACAC;QACA;QACA,+FACA;QACA;MACA;IACA;IACAC;MAAA;MACAD;QACA;QACA,qGACA;QACA;MACA;IACA;IACAE;MAAA;MACAF;QACA;QACA,qFACA;QACA;MACA;IACA;IACAG;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAC;cAAA;gBAAAC;gBACA;kBACA;kBACAA;kBACAA;kBACA;kBACA;kBACA;kBACA;kBACA;oBAAA;oBACA;sBAAA;oBAAA;oBACA;oBACAC;oBACAA;oBACAA;kBACA;kBACA;oBACA;kBACA;kBACA;oBACA;kBACA;kBAEA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,OACAH;kBACAxE;kBACA4E;oBACAC;kBACA;gBACA;kBACA;gBACA;cAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MAAA;MACAC;MACA;QACA;QACA;UACAlF;QACA;QACA;UACAO;UACA0B;UACAkB;UACAjC;UACAC;UACAC;UACAC;QACA;UACAmD;YACAW;YACAC;UACA;UACAhB;YACAI;UACA;QACA;MACA;QAAA;QACAA;MACA;IACA;IACAa;MACA;QACA;UACA3C;UACAC;QACA;MACA;MACA;IACA;IACA2C;MAAA;MACA;IACA;IACAC;MAAA;MACA;IACA;IACAC,oEAGA;MAAA,IAFAC;QACAC;MAEA;MACA;IACA;IACAC,qEAGA;MAAA,IAFAF;QACAC;MAEA;MACA;IACA;EACA;EACAE;IACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IAAA;IACA;EACA;EACAC,+BAEA;IAAA,IADAC;IAEA;MACA;MACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACpkBA;AAAA;AAAA;AAAA;AAA4oC,CAAgB,knCAAG,EAAC,C;;;;;;;;;;;ACAhqC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages_sub/outStorage/details/details.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages_sub/outStorage/details/details.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./details.vue?vue&type=template&id=5b0e77cb&\"\nvar renderjs\nimport script from \"./details.vue?vue&type=script&lang=js&\"\nexport * from \"./details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./details.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages_sub/outStorage/details/details.vue\"\nexport default component.exports","export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=template&id=5b0e77cb&\"","var components\ntry {\n  components = {\n    \"u-Form\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--form/u--form\" */ \"@/uni_modules/uview-ui/components/u--form/u--form.vue\"\n      )\n    },\n    uFormItem: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-form-item/u-form-item\" */ \"@/uni_modules/uview-ui/components/u-form-item/u-form-item.vue\"\n      )\n    },\n    \"u-Input\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--input/u--input\" */ \"@/uni_modules/uview-ui/components/u--input/u--input.vue\"\n      )\n    },\n    uBadge: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-badge/u-badge\" */ \"@/uni_modules/uview-ui/components/u-badge/u-badge.vue\"\n      )\n    },\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uRadioGroup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio-group/u-radio-group\" */ \"@/uni_modules/uview-ui/components/u-radio-group/u-radio-group.vue\"\n      )\n    },\n    uRadio: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-radio/u-radio\" */ \"@/uni_modules/uview-ui/components/u-radio/u-radio.vue\"\n      )\n    },\n    \"u-Textarea\": function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u--textarea/u--textarea\" */ \"@/uni_modules/uview-ui/components/u--textarea/u--textarea.vue\"\n      )\n    },\n    uDivider: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-divider/u-divider\" */ \"@/uni_modules/uview-ui/components/u-divider/u-divider.vue\"\n      )\n    },\n    uButton: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-button/u-button\" */ \"@/uni_modules/uview-ui/components/u-button/u-button.vue\"\n      )\n    },\n    uDatetimePicker: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker\" */ \"@/uni_modules/uview-ui/components/u-datetime-picker/u-datetime-picker.vue\"\n      )\n    },\n    uSafeBottom: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-safe-bottom/u-safe-bottom\" */ \"@/uni_modules/uview-ui/components/u-safe-bottom/u-safe-bottom.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.formModel.details.length\n  if (!_vm._isMounted) {\n    _vm.e0 = function ($event) {\n      _vm.showOperateStartTime = true\n    }\n    _vm.e1 = function ($event) {\n      _vm.showOperateEndTime = true\n    }\n    _vm.e2 = function ($event) {\n      _vm.showPickTime = true\n    }\n    _vm.e3 = function ($event) {\n      _vm.showOperateStartTime = false\n    }\n    _vm.e4 = function ($event) {\n      _vm.showOperateEndTime = false\n    }\n    _vm.e5 = function ($event) {\n      _vm.showPickTime = false\n    }\n  }\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"appointment-box\">\r\n\t\t<u--form labelPosition=\"left\" :model=\"formModel\" :rules=\"rules\" ref=\"formRef\" labelWidth=\"100\"\r\n\t\t\t:customStyle=\"{padding: '0px 20px'}\">\r\n\t\t\t<u-form-item label=\"仓库流水号\" prop=\"shipmentOrderNo\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.shipmentOrderNo\" disabled border=\"none\" placeholder=\"请输入仓库流水号\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"仓库\" prop=\"warehouseName\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.warehouseName\" disabled placeholder=\"请选择仓库\" border=\"none\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"出库日期\" prop=\"shipmentOrderDate\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.shipmentOrderDate\" disabled placeholder=\"请选择入库日期\" border=\"none\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"提货方式\" prop=\"pickMethod\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.pickMethod\" disabled placeholder=\"请选择提货方式\" border=\"none\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"货权单位\" prop=\"customerName\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.customerName\" disabled placeholder=\"请选择货权单位\" border=\"none\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"提货单号\" prop=\"customerPickNo\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.customerPickNo\" disabled placeholder=\"请选择提货单号\" border=\"none\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"起始站\" prop=\"startStation\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.startStation\" disabled border=\"none\" placeholder=\"请输入起始站\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"提货人姓名\" prop=\"picker\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.picker\" :disabled=\"!!detailsData.picker\" border=\"none\" placeholder=\"请输入提货人姓名\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"身份证号\" prop=\"pickerIdCard\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.pickerIdCard\" :disabled=\"!!detailsData.pickerIdCard\" border=\"none\" placeholder=\"请输入身份证号\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"手机号\" prop=\"pickerMobile\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.pickerMobile\" :disabled=\"!!detailsData.pickerMobile\" border=\"none\" placeholder=\"请输入提货人手机号\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"车牌/车号\" prop=\"vehicleNo\" borderBottom>\r\n\t\t\t\t<u--input v-model=\"formModel.vehicleNo\" :disabled=\"!!detailsData.vehicleNo\" border=\"none\" placeholder=\"请输入车牌/车号\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"入库货品信息\" prop=\"details\" borderBottom @click=\"clickAddGoods\">\r\n\t\t\t\t<view class=\"goods-tag flexs\">已添加\r\n\t\t\t\t\t<view style=\"padding: 0px 8rpx;\"><u-badge type=\"success\" max=\"1000\"\r\n\t\t\t\t\t\t\t:value=\"formModel.details.length\" show-zero></u-badge></view>\r\n\t\t\t\t\t件货品信息\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t</u-form-item>\r\n\r\n\t\t\t<u-form-item label=\"作业时间起\" prop=\"orderOperate.operateStartTime\" borderBottom\r\n\t\t\t\t@tap=\"showOperateStartTime = true\">\r\n\t\t\t\t<u--input v-model=\"formModel.orderOperate.operateStartTime\" border=\"none\" disabled\r\n\t\t\t\t\tplaceholder=\"请输入作业时间起\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"作业时间止\" prop=\"orderOperate.operateEndTime\" borderBottom @tap=\"showOperateEndTime = true\">\r\n\t\t\t\t<u--input v-model=\"formModel.orderOperate.operateEndTime\" border=\"none\" disabled\r\n\t\t\t\t\tplaceholder=\"请输入作业时间止\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"装卸班组\" prop=\"orderOperate.operatePersonNames\" borderBottom\r\n\t\t\t\t@click=\"showSelectOperatePerson\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t{{ formModel.orderOperate.operatePersonNames || '请选择' }}\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"叉车司机\" prop=\"orderOperate.operateDriverNames\" borderBottom\r\n\t\t\t\t@click=\"showSelectOperateDriver\">\r\n\t\t\t\t<view>\r\n\t\t\t\t\t{{ formModel.orderOperate.operateDriverNames || '请选择' }}\r\n\t\t\t\t</view>\r\n\t\t\t\t<u-icon slot=\"right\" name=\"arrow-right\"></u-icon>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"是否全叉车\" prop=\"orderOperate.forklift_type\" borderBottom>\r\n\t\t\t\t<u-radio-group v-model=\"formModel.orderOperate.forklift_type\" placement=\"row\">\r\n\t\t\t\t\t<u-radio :customStyle=\"{marginRight: '50rpx'}\" label=\"是\" :name=\"1\"></u-radio>\r\n\t\t\t\t\t<u-radio label=\"否\" :name=\"0\"></u-radio>\r\n\t\t\t\t</u-radio-group>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"是否起地\" prop=\"orderOperate.loadType\" borderBottom>\r\n\t\t\t\t<u-radio-group v-model=\"formModel.orderOperate.loadType\" placement=\"row\">\r\n\t\t\t\t\t<u-radio :customStyle=\"{marginRight: '50rpx'}\" label=\"是\" :name=\"1\"></u-radio>\r\n\t\t\t\t\t<u-radio label=\"否\" :name=\"0\"></u-radio>\r\n\t\t\t\t</u-radio-group>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"装车完成照片\" prop=\"orderOperate.outStorageCompletedFileList\" borderBottom>\r\n\t\t\t\t<FileUplaod :defaultData=\"formModel.orderOperate.outStorageCompletedFileList\"\r\n\t\t\t\t\t@change=\"fileChange($event, 'outStorageCompletedFileList')\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"提货人签字单据照片\" prop=\"orderOperate.pickerFileList\" borderBottom>\r\n\t\t\t\t<FileUplaod :defaultData=\"formModel.orderOperate.pickerFileList\"\r\n\t\t\t\t\t@change=\"fileChange($event, 'pickerFileList')\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"提货（验收）时间\" prop=\"orderOperate.pickTime\" borderBottom @tap=\"showPickTime = true\">\r\n\t\t\t\t<u--input v-model=\"formModel.orderOperate.pickTime\" border=\"none\" disabled\r\n\t\t\t\t\tplaceholder=\"请选择提货（验收）时间\"></u--input>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"操作是否规范\" prop=\"orderOperate.operateStandard\" borderBottom>\r\n\t\t\t\t<u-radio-group v-model=\"formModel.orderOperate.operateStandard\" placement=\"row\">\r\n\t\t\t\t\t<u-radio :customStyle=\"{marginRight: '50rpx'}\" label=\"是\" :name=\"1\"></u-radio>\r\n\t\t\t\t\t<u-radio label=\"否\" :name=\"0\"></u-radio>\r\n\t\t\t\t</u-radio-group>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"是否服从管理\" prop=\"orderOperate.obeyManagement\" borderBottom>\r\n\t\t\t\t<u-radio-group v-model=\"formModel.orderOperate.obeyManagement\" placement=\"row\">\r\n\t\t\t\t\t<u-radio :customStyle=\"{marginRight: '50rpx'}\" label=\"是\" :name=\"1\"></u-radio>\r\n\t\t\t\t\t<u-radio label=\"否\" :name=\"0\"></u-radio>\r\n\t\t\t\t</u-radio-group>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"备注\" prop=\"remark\" borderBottom>\r\n\t\t\t\t<u--textarea v-model=\"formModel.remark\" border=\"none\" placeholder=\"请输入备注信息\"></u--textarea>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-divider text=\"验收确认\" textColor=\"#2979ff\" lineColor=\"#2979ff\"></u-divider>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t<u-form-item v-if=\"getIsCCZG\" label=\"仓储主管验收确认照片\" prop=\"orderOperate.stockSupervisorAcceptFileUrl\"\r\n\t\t\t\tborderBottom>\r\n\t\t\t\t<FileUplaod :defaultData=\"formModel.orderOperate.stockSupervisorAcceptFileUrl\"\r\n\t\t\t\t\t@change=\"fileChange($event,'stockSupervisorAcceptFileUrl')\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item v-if=\"getIsKFZG\" label=\"客服主管验收确认照片\" prop=\"orderOperate.exceptionFileUrl\" borderBottom>\r\n\t\t\t\t<FileUplaod :defaultData=\"formModel.orderOperate.exceptionFileUrl\"\r\n\t\t\t\t\t@change=\"fileChange($event,'exceptionFileUrl')\" />\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item label=\"异常说明\" prop=\"orderOperate.remark\" borderBottom>\r\n\t\t\t\t<u--textarea v-model=\"formModel.orderOperate.remark\" border=\"none\" placeholder=\"请输入异常说明\"></u--textarea>\r\n\t\t\t</u-form-item>\r\n\t\t\t\r\n\t\t\t<u-form-item v-if=\"getIsKG\" label=\"库管验收确认\" prop=\"orderOperate.checkerWarehouseManager\" borderBottom\r\n\t\t\t\tlabelWidth=\"150\">\r\n\t\t\t\t<span :style=\"{color: formModel.orderOperate.checkerWarehouseManager == 1 ? '#19be6b': '#ceccca'}\">\r\n\t\t\t\t\t{{ formModel.orderOperate.checkerWarehouseManager == 1 ? '已确认': '待确认' }}\r\n\t\t\t\t</span>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item v-if=\"getIsCCZG\" label=\"仓储主管验收确认\" prop=\"orderOperate.checkerDirector\" borderBottom\r\n\t\t\t\tlabelWidth=\"150\">\r\n\t\t\t\t<span :style=\"{color: formModel.orderOperate.checkerDirector == 1 ? '#19be6b': '#ceccca'}\">\r\n\t\t\t\t\t{{ formModel.orderOperate.checkerDirector == 1 ? '已确认': '待确认' }}\r\n\t\t\t\t</span>\r\n\t\t\t</u-form-item>\r\n\t\t\t<u-form-item v-if=\"getIsKFZG\" label=\"客服主管验收确认\" prop=\"orderOperate.checkerCustomerManager\" borderBottom\r\n\t\t\t\tlabelWidth=\"150\">\r\n\t\t\t\t<span :style=\"{color: formModel.orderOperate.checkerCustomerManager == 1 ? '#19be6b': '#ceccca'}\">\r\n\t\t\t\t\t{{ formModel.orderOperate.checkerCustomerManager == 1 ? '已确认': '待确认' }}\r\n\t\t\t\t</span>\r\n\t\t\t</u-form-item>\r\n\t\t</u--form>\r\n\t\t<view v-if=\"auditStatus != 4\" class=\"flexs\" style=\"gap: 24rpx; margin-top: 60rpx;\">\r\n\t\t\t<u-button @click=\"handleSaveForm\">保 存</u-button>\r\n\t\t\t<u-button type=\"primary\" @click=\"checkConfirm\">验收确认</u-button>\r\n\t\t</view>\r\n\r\n\r\n\t\t<u-datetime-picker ref=\"operateStartTimeRef\" :show=\"showOperateStartTime\" v-model=\"operateStartTime\"\r\n\t\t\tmode=\"datetime\" @confirm=\"confirmOperateStartTime\"\r\n\t\t\t@cancel=\"showOperateStartTime = false\"></u-datetime-picker>\r\n\t\t<u-datetime-picker ref=\"operateEndTimeRef\" :show=\"showOperateEndTime\" v-model=\"operateEndTime\" mode=\"datetime\"\r\n\t\t\t@confirm=\"confirmOperateEndTime\" @cancel=\"showOperateEndTime = false\"></u-datetime-picker>\r\n\t\t<u-datetime-picker ref=\"showPickTimeRef\" :show=\"showPickTime\" v-model=\"pickTime\" mode=\"datetime\"\r\n\t\t\t@confirm=\"confirmPickTime\" @cancel=\"showPickTime = false\"></u-datetime-picker>\r\n\r\n\t\t<GoodsDetailsPopup ref=\"goodsDetailsPopupRef\" :goodList=\"formModel.details\" />\r\n\t\t<SelectUser ref=\"selectOperatePersonRef\" :defaultUser=\"formModel.orderOperate.operatePerson\"\r\n\t\t\t@change=\"selectOperatePersonChange\">\r\n\t\t</SelectUser>\r\n\t\t<SelectUser ref=\"selectOperateDriverRef\" :defaultUser=\"formModel.orderOperate.operateDriver\"\r\n\t\t\t@change=\"selectOperateDriverChange\">\r\n\t\t</SelectUser>\r\n\t\t<u-safe-bottom></u-safe-bottom>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport dayjs from 'dayjs';\r\n\timport {\r\n\t\tbindData\r\n\t} from '@/utils/common.js';\r\n\timport GoodsDetailsPopup from '@/pages_sub/components/GoodsDetailsPopup.vue'\r\n\timport FileUplaod from '@/pages_sub/components/upload.vue'\r\n\timport {\r\n\t\taddOrUpdateShipmentOrder\r\n\t} from '@/pages_sub/api/warehousingManagement';\r\n\timport {\r\n\t\tgetDictLabel\r\n\t} from '@/utils/dict.js';\r\n\timport SelectUser from '@/pages_sub/components/SelectUser.vue'\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tGoodsDetailsPopup,\r\n\t\t\tFileUplaod,\r\n\t\t\tSelectUser\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowOperateStartTime: false,\r\n\t\t\t\tshowOperateEndTime: false,\r\n\t\t\t\toperateStartTime: Date.now(),\r\n\t\t\t\toperateEndTime: Date.now(),\r\n\t\t\t\tpickTime: Date.now(),\r\n\t\t\t\tshowPickTime: false,\r\n\t\t\t\tid: null,\r\n\r\n\t\t\t\tformModel: {\r\n\t\t\t\t\tid: '',\r\n\r\n\t\t\t\t\t// 入库单号-仓库流水号\r\n\t\t\t\t\tshipmentOrderNo: ``,\r\n\t\t\t\t\t// 仓库\r\n\t\t\t\t\twarehouseId: \"\",\r\n\t\t\t\t\t// 出库日期\r\n\t\t\t\t\tshipmentOrderDate: \"\",\r\n\t\t\t\t\t// 提货方式\r\n\t\t\t\t\tpickMethod: \"\",\r\n\t\t\t\t\t// 货权单位\r\n\t\t\t\t\tcustomerId: \"\",\r\n\t\t\t\t\tcustomerName: \"\",\r\n\t\t\t\t\t// 提货单位\r\n\t\t\t\t\tpickerId: '',\r\n\t\t\t\t\t// 提货单号\r\n\t\t\t\t\tcustomerPickNo: \"\",\r\n\t\t\t\t\t// 起始站\r\n\t\t\t\t\tstartStation: \"\",\r\n\t\t\t\t\t// 提货人姓名\r\n\t\t\t\t\tpicker: \"\",\r\n\t\t\t\t\t// 身份证号\r\n\t\t\t\t\tpickerIdCard: \"\",\r\n\t\t\t\t\t// 手机号\r\n\t\t\t\t\tpickerMobile: \"\",\r\n\t\t\t\t\t// 车牌/车号\r\n\t\t\t\t\tvehicleNo: \"\",\r\n\r\n\t\t\t\t\tdetails: [{\r\n\t\t\t\t\t\t// 货物品名\r\n\t\t\t\t\t\titemName: \"\",\r\n\t\t\t\t\t\t// 产地\r\n\t\t\t\t\t\tplace: [],\r\n\t\t\t\t\t\tproductionPlace: \"\",\r\n\t\t\t\t\t\t// 型号\r\n\t\t\t\t\t\titemModel: \"\",\r\n\t\t\t\t\t\t// 规格\r\n\t\t\t\t\t\tspecification: \"\",\r\n\t\t\t\t\t\t// 批次\r\n\t\t\t\t\t\tbatchNo: \"\",\r\n\t\t\t\t\t\t// 总件数\r\n\t\t\t\t\t\trealQuantity: \"\",\r\n\t\t\t\t\t\t// 总重量\r\n\t\t\t\t\t\trealWeight: \"\",\r\n\t\t\t\t\t\twarehouseId: \"\",\r\n\t\t\t\t\t\tareaId: \"\",\r\n\t\t\t\t\t\t// 库位号\r\n\t\t\t\t\t\trackId: \"\",\r\n\t\t\t\t\t}, ],\r\n\r\n\r\n\t\t\t\t\t// 操作信息\r\n\t\t\t\t\torderOperate: {\r\n\t\t\t\t\t\t// 作业时间起\r\n\t\t\t\t\t\toperateStartTime: \"\",\r\n\t\t\t\t\t\t// 作业时间止\r\n\t\t\t\t\t\toperateEndTime: \"\",\r\n\t\t\t\t\t\t// 装卸班组\r\n\t\t\t\t\t\toperatePerson: \"\",\r\n\t\t\t\t\t\toperatePersonNames: \"\",\r\n\t\t\t\t\t\t// 叉车司机\r\n\t\t\t\t\t\toperateDriver: \"\",\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//是否起地[1、0]\r\n\t\t\t\t\t\tloadType: 0,\r\n\t\t\t\t\t\t// 是否全叉车[1、0]\r\n\t\t\t\t\t\tforklift_type: 0,\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\toperateDriverNames: \"\",\r\n\t\t\t\t\t\t// 装车完成照片\r\n\t\t\t\t\t\toutStorageCompletedFileList: [],\r\n\t\t\t\t\t\t// 提货人签字单据照片\r\n\t\t\t\t\t\tpickerFileList: [{\r\n\t\t\t\t\t\t\tfileName: \"\",\r\n\t\t\t\t\t\t\tfileUrl: \"\",\r\n\t\t\t\t\t\t}, ],\r\n\t\t\t\t\t\t// 提货（验收）时间\r\n\t\t\t\t\t\tpickTime: \"\",\r\n\t\t\t\t\t\t// 操作是否规范\r\n\t\t\t\t\t\toperateStandard: 1,\r\n\t\t\t\t\t\t// 是否服从管理\r\n\t\t\t\t\t\tobeyManagement: 1,\r\n\t\t\t\t\t\t// 库管验收确认\r\n\t\t\t\t\t\tcheckerWarehouseManager: \"\",\r\n\t\t\t\t\t\t// 仓储主管验收确认\r\n\t\t\t\t\t\tcheckerDirector: \"\",\r\n\t\t\t\t\t\t// 仓储主管验收确认照片\r\n\t\t\t\t\t\tstockSupervisorAcceptFileUrl: [],\r\n\t\t\t\t\t\t// 客服主管验收确认\r\n\t\t\t\t\t\tcheckerCustomerManager: \"\",\r\n\t\t\t\t\t\t// 客服主管验收确认照片\r\n\t\t\t\t\t\texceptionFileUrl: [],\r\n\t\t\t\t\t\t// 异常说明\r\n\t\t\t\t\t\tremark: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 备注\r\n\t\t\t\t\tremark: \"\",\r\n\r\n\t\t\t\t},\r\n\t\t\t\trules: {\r\n\t\t\t\t\t'picker': [{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入提货人姓名',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\t'pickerIdCard': [{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入提货人身份证号',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\t'pickerMobile': [{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入提货人手机号',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\t'vehicleNo': [{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入车牌/车号',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\t'orderOperate.operateStartTime': [{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择作业时间起',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t}, ],\r\n\t\t\t\t\t'orderOperate.operateEndTime': [{\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入作业时间止',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t}],\r\n\t\t\t\t\t'orderOperate.operatePersonNames': {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请输入装卸班组',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 'orderOperate.operateDriver': {\r\n\t\t\t\t\t// \ttype: 'string',\r\n\t\t\t\t\t// \trequired: true,\r\n\t\t\t\t\t// \tmessage: '请输入叉车司机名称',\r\n\t\t\t\t\t// \ttrigger: ['change', 'blur']\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t'orderOperate.forklift_type': {\r\n\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '是否全叉车',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'orderOperate.loadType': {\r\n\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '是否起地',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\r\n\t\t\t\t\t'orderOperate.outStorageCompletedFileList': {\r\n\t\t\t\t\t\ttype: 'array',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请添加装车完成照片',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'orderOperate.pickerFileList': {\r\n\t\t\t\t\t\ttype: 'array',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请添加提货人签字单据照片',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'orderOperate.pickTime': {\r\n\t\t\t\t\t\ttype: 'string',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择提货（验收）时间',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'orderOperate.operateStandard': {\r\n\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择操作是否规范',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t'orderOperate.obeyManagement': {\r\n\t\t\t\t\t\ttype: 'number',\r\n\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\tmessage: '请选择是否服从管理',\r\n\t\t\t\t\t\ttrigger: ['change', 'blur']\r\n\t\t\t\t\t},\r\n\t\t\t\t\t// 'orderOperate.stockSupervisorAcceptFileUrl': {\r\n\t\t\t\t\t// \ttype: 'array',\r\n\t\t\t\t\t// \trequired: true,\r\n\t\t\t\t\t// \tmessage: '仓储主管验收确认照片',\r\n\t\t\t\t\t// \ttrigger: ['change', 'blur']\r\n\t\t\t\t\t// },\r\n\t\t\t\t\t// 'orderOperate.exceptionFileUrl': {\r\n\t\t\t\t\t// \ttype: 'array',\r\n\t\t\t\t\t// \trequired: true,\r\n\t\t\t\t\t// \tmessage: '客服主管验收确认照片',\r\n\t\t\t\t\t// \ttrigger: ['change', 'blur']\r\n\t\t\t\t\t// },\r\n\t\t\t\t},\r\n\r\n\t\t\t\tauditStatus: '',\r\n\t\t\t\t\r\n\t\t\t\tgetRoleKeys: [],\r\n\t\t\t\tgetIsAdmin: false,\r\n\t\t\t\tgetIsKG: false,\r\n\t\t\t\tgetIsCCZG: false,\r\n\t\t\t\tgetIsKFZG: false,\r\n\t\t\t\t\r\n\t\t\t\tdetailsData: {},\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tgetDictLabel,\r\n\t\t\tgoodsChange(goodsList) {\r\n\t\t\t\tthis.formModel.details = goodsList\r\n\t\t\t},\r\n\t\t\tconfirmOperateEndTime() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.showOperateEndTime = false\r\n\t\t\t\t\tthis.formModel.orderOperate.operateEndTime = dayjs(this.operateEndTime).format(\r\n\t\t\t\t\t\t'YYYY-MM-DD HH:mm:ss')\r\n\t\t\t\t\tthis.$refs.formRef.validateField('orderOperate.operateEndTime')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirmOperateStartTime() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.showOperateStartTime = false\r\n\t\t\t\t\tthis.formModel.orderOperate.operateStartTime = dayjs(this.operateStartTime).format(\r\n\t\t\t\t\t\t'YYYY-MM-DD HH:mm:ss')\r\n\t\t\t\t\tthis.$refs.formRef.validateField('orderOperate.operateStartTime')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirmPickTime() {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.showPickTime = false\r\n\t\t\t\t\tthis.formModel.orderOperate.pickTime = dayjs(this.pickTime).format(\r\n\t\t\t\t\t\t'YYYY-MM-DD HH:mm:ss')\r\n\t\t\t\t\tthis.$refs.formRef.validateField('orderOperate.pickTime')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getEditData() {\r\n\t\t\t\tconst res = await uni.$u.http.get(`/wms/wx/shipmentOrder/${this.id}`)\r\n\t\t\t\tif (res) {\r\n\t\t\t\t\tthis.detailsData = res || {}\r\n\t\t\t\t\tres.orderOperate.operatePersonNames = ''\r\n\t\t\t\t\tres.orderOperate.operateDriverNames = ''\r\n\t\t\t\t\tbindData(this.formModel, res)\r\n\t\t\t\t\tthis.formModel.warehouseName = getDictLabel(res.warehouseId, 'warehouse')\r\n\t\t\t\t\tthis.formModel.receiptOrderTypeLabel = getDictLabel(res.receiptOrderType, 'wms_receipt_type')\r\n\t\t\t\t\tthis.formModel.customerName = getDictLabel(res.customerId, 'customer')\r\n\t\t\t\t\tthis.formModel.details.forEach(i => {\r\n\t\t\t\t\t\tconst goodsDetails = res.items?.filter(m => i.itemId === m.id)[0]\r\n\t\t\t\t\t\tif (!goodsDetails) return\r\n\t\t\t\t\t\ti.itemName = goodsDetails.itemName\r\n\t\t\t\t\t\ti.itemModel = goodsDetails.itemModel\r\n\t\t\t\t\t\ti.specification = goodsDetails.specification\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (this.formModel.orderOperate.operateStandard === null) {\r\n\t\t\t\t\t\tthis.formModel.orderOperate.operateStandard = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.formModel.orderOperate.obeyManagement === null) {\r\n\t\t\t\t\t\tthis.formModel.orderOperate.obeyManagement = 1\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tthis.auditStatus = res.auditStatus\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tasync getRecommendPlace(data) {\r\n\t\t\t\treturn await uni.$u.http.post(`/wms/receiptOrder/getRecommendPlace`, null, {\r\n\t\t\t\t\tdata,\r\n\t\t\t\t\tcustom: {\r\n\t\t\t\t\t\tloading: false\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\treturn res\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tclickAddGoods() {\r\n\t\t\t\tthis.$refs.goodsDetailsPopupRef.goodListShow = true\r\n\t\t\t},\r\n\t\t\tcheckConfirm() {\r\n\t\t\t\tthis.handleSubmit(false)\r\n\t\t\t},\r\n\t\t\thandleSaveForm() {\r\n\t\t\t\tthis.handleSubmit()\r\n\t\t\t},\r\n\t\t\thandleSubmit(isSave = true) {\r\n\t\t\t\tconsole.log(112, this.formModel);\r\n\t\t\t\tthis.$refs.formRef.validate().then(res => {\r\n\t\t\t\t\tconst data = JSON.parse(JSON.stringify(this.formModel.orderOperate))\r\n\t\t\t\t\tthis.getCheckerFields.forEach(i => {\r\n\t\t\t\t\t\tdata[i] = isSave ? '0' : '1'\r\n\t\t\t\t\t})\r\n\t\t\t\t\taddOrUpdateShipmentOrder({\r\n\t\t\t\t\t\tid: this.formModel.id,\r\n\t\t\t\t\t\torderOperate: data,\r\n\t\t\t\t\t\tremark: this.formModel.remark,\r\n\t\t\t\t\t\tpicker: this.formModel.picker,\r\n\t\t\t\t\t\tpickerIdCard: this.formModel.pickerIdCard,\r\n\t\t\t\t\t\tpickerMobile: this.formModel.pickerMobile,\r\n\t\t\t\t\t\tvehicleNo: this.formModel.vehicleNo,\r\n\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: `${this.addEditTitle}成功`,\r\n\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 800)\r\n\t\t\t\t\t})\r\n\t\t\t\t}).catch(errors => {\r\n\t\t\t\t\tuni.$u.toast(errors[0]?.message || '必填项校验未通过')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tfileChange(files, key) {\r\n\t\t\t\tthis.formModel.orderOperate[key] = files.map(i => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\tfileName: i.fileName,\r\n\t\t\t\t\t\tfileUrl: i.fileUrl\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\tthis.$refs.formRef.validateField(`orderOperate.${key}`)\r\n\t\t\t},\r\n\t\t\tshowSelectOperatePerson() {\r\n\t\t\t\tthis.$refs.selectOperatePersonRef?.show()\r\n\t\t\t},\r\n\t\t\tshowSelectOperateDriver() {\r\n\t\t\t\tthis.$refs.selectOperateDriverRef?.show()\r\n\t\t\t},\r\n\t\t\tselectOperatePersonChange({\r\n\t\t\t\tids,\r\n\t\t\t\tuserNames\r\n\t\t\t}) {\r\n\t\t\t\tthis.formModel.orderOperate.operatePerson = ids\r\n\t\t\t\tthis.formModel.orderOperate.operatePersonNames = userNames\r\n\t\t\t},\r\n\t\t\tselectOperateDriverChange({\r\n\t\t\t\tids,\r\n\t\t\t\tuserNames\r\n\t\t\t}) {\r\n\t\t\t\tthis.formModel.orderOperate.operateDriver = ids\r\n\t\t\t\tthis.formModel.orderOperate.operateDriverNames = userNames\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\taddEditTitle() {\r\n\t\t\t\treturn !this.id ? '保存' : '提交'\r\n\t\t\t},\r\n\t\t\tgetCheckerFields() {\r\n\t\t\t\tconst arr = []\r\n\t\t\t\tif (this.getIsKG) arr.push('checkerWarehouseManager')\r\n\t\t\t\tif (this.getIsCCZG) arr.push('checkerDirector')\r\n\t\t\t\tif (this.getIsKFZG) arr.push('checkerCustomerManager')\r\n\t\t\t\treturn arr\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\tthis.$refs.formRef?.setRules(this.rules)\r\n\t\t},\r\n\t\tonLoad({\r\n\t\t\tparams\r\n\t\t}) {\r\n\t\t\tif (params) {\r\n\t\t\t\tthis.id = params\r\n\t\t\t\tthis.getEditData()\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tthis.getRoleKeys = uni.getStorageSync('user_info').roles || []\r\n\t\t\tthis.getIsAdmin = this.getRoleKeys.includes('admin')\r\n\t\t\tthis.getIsKG = this.getRoleKeys.includes('stock_supervisor') || this.getIsAdmin\r\n\t\t\tthis.getIsCCZG = this.getRoleKeys.includes('storage_supervisor') || this.getIsAdmin\r\n\t\t\tthis.getIsKFZG = this.getRoleKeys.includes('service_supervisor') || this.getIsAdmin\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t.appointment-box {\r\n\t\tpadding: 0rpx 24rpx 100rpx 24rpx;\r\n\t\tbackground: #fff;\r\n\t}\r\n\r\n\t.tag-num {\r\n\t\tbackground: #2979ff;\r\n\t\tcolor: #fff;\r\n\t\tpadding: 2rpx 6rpx;\r\n\t\tborder-radius: 22rpx;\r\n\t}\r\n\r\n\t.goods {\r\n\t\tcolor: #303133;\r\n\t}\r\n\r\n\t.no-goods {\r\n\t\tcolor: #c0c4cc\r\n\t}\r\n\r\n\t.fixed-button-view {\r\n\t\tposition: fixed;\r\n\t\tbottom: 40rpx;\r\n\t\tleft: 0;\r\n\t\twidth: 100%;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: center;\r\n\t}\r\n</style>","import mod from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./details.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1761490563711\n      var cssReload = require(\"E:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}